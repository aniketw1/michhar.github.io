<p><strong>Posted:</strong> 2016-10-07</p>

<p>I had a great time interacting with some of the most motivated people I’ve ever met at the <strong>Data Science Summit</strong> in Atlanta, GA, on September 26 and 27th.</p>

<p>The attendees showed up to learn new skills in the analytics domain.  A colleague and I delivered two courses for the price of one (well, at the very least they were in the same room - choose your own adventure) and we saw people so motivated, they worked for a full 3 hour session, heads down, and with an intense drive.  The courses were self-paced and self-guided with us there as proctors.  The other course in the room was on Microsoft R Server and SQL Server R Services, however my expertise lay in <strong>Python for Data Science</strong>, a course I created and that was recently released on the landing page of <a href="https://notebooks.azure.com">https://notebooks.azure.com</a>.  This course’s audience includes those:</p>

<ul>
  <li>New to Python</li>
  <li>Experienced with Python, but not data science</li>
  <li>In need of a refresher</li>
  <li>Hoping to learn a little about the Python 2 to 3 change</li>
  <li>In need of a handy modular reference</li>
  <li>…</li>
</ul>

<p>Azure Notebooks was released the first day of the courses and used for the 13-module <code class="highlighter-rouge">Python for Data Science</code> course covering,</p>

<p><em>for those new to Python,</em></p>

<ol>
  <li>Basics</li>
  <li>Data Structures</li>
  <li>Functional Programming</li>
  <li>Sorting and Pattern Matching</li>
  <li>Object Oriented Programming</li>
  <li>Basic Difference from 2 to 3<br /><br /><em>and for the DS,</em><br /><br /></li>
  <li>Numerical Computing</li>
  <li>Data Analysis with pandas I</li>
  <li>Data Analysis with pandas II</li>
  <li>Machine Learning I - ML Basics and Data Exploration</li>
  <li>Machine Learning II - Supervised and Unsupervised Learning</li>
  <li>Machine Learning III - Parameter Tuning and Model Evaluation</li>
  <li>Visualization</li>
</ol>

<p>This course includes the gambit.  From list comprehension:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Solution to list comprehension exercise
# Solution to list comprehension exercise
</span><span class="n">letters</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s">'thepurposeoflife'</span><span class="p">)</span>

<span class="c1"># Place your list comprehension below
</span><span class="n">output</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="s">'e'</span> <span class="k">else</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">letters</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="s">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>
</code></pre></div></div>
<p><br />
Which gets you: <code class="highlighter-rouge">thEpurposEoflifE</code></p>

<p>To anomaly detection with a one-class SVM in <code class="highlighter-rouge">scikit-learn</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.font_manager</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">svm</span>

<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<span class="kn">from</span> <span class="nn">sklearn.cross_validation</span> <span class="kn">import</span> <span class="n">train_test_split</span>


<span class="c1"># Iris data
</span><span class="n">iris</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">()</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">iris</span><span class="o">.</span><span class="n">target</span>

<span class="c1"># Taking only two columns...
</span><span class="n">labels</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">feature_names</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>

<span class="c1"># split
</span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span> <span class="o">=</span> <span class="mf">0.3</span><span class="p">,</span> 
    <span class="n">random_state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># make some outliers
</span><span class="n">X_weird</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">low</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="c1"># fit the model
</span><span class="n">clf</span> <span class="o">=</span> <span class="n">svm</span><span class="o">.</span><span class="n">OneClassSVM</span><span class="p">(</span><span class="n">nu</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">kernel</span><span class="o">=</span><span class="s">"rbf"</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">random_state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>

<span class="c1"># predict labels
</span><span class="n">y_pred_train</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">y_pred_test</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_pred_outliers</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_weird</span><span class="p">)</span>
</code></pre></div></div>
<p><br /></p>

<p>Which when plotted in <code class="highlighter-rouge">matplotlib</code> results in revealing some decision boundaries around if a value is weird or not from the iris dataset (and some made-up values for testing):</p>

<p><img src="img/novelty.png" alt="anomalies in scikit-learn image" /></p>

<p>You can find the Notebooks offering at <a href="https://notebooks.azure.com">https://notebooks.azure.com</a> and the Python course on the main page with the tutorials near the bottom and titled  <em>Fundamentals of Data Science with Python</em>.  It’s free, just like the product, Azure Notebooks.  The course is actually a <em>Library</em>.</p>

<p>It was a really fun and challenging to create and I’m so very glad to have it released into the wild.  It contains exercises as well, some simple and some for those who enjoy a challenge themselves.</p>

<p>For example, in this exercise a student is asked to create a Wallet for your friend Amy, let Amy earn some money and then let Amy spend some of that money.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Wallet</span><span class="p">:</span>
    <span class="s">'''The Wallet class holds cash for a owner.'''</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">owner</span><span class="p">,</span> <span class="n">cash</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">owner</span> <span class="o">=</span> <span class="n">owner</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cash</span> <span class="o">=</span> <span class="n">cash</span>
        
    <span class="c1"># Spend method
</span>    <span class="k">def</span> <span class="nf">spend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="s">'''The spend method removes a given amount of money from the wallet.'''</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cash</span> <span class="o">-=</span> <span class="n">amount</span>
            
    <span class="c1"># Earn method
</span>    <span class="k">def</span> <span class="nf">earn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="s">'''The earn method adds a given amount of money to the wallet.'''</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cash</span> <span class="o">+=</span> <span class="n">amount</span>

</code></pre></div></div>
<p><br /></p>

<p>I can’t wait to add more modules.  Python will attack big data in the next one with <code class="highlighter-rouge">dask</code>.  Stay tuned.</p>

<p>My colleague and I also made use of the “stickies” teacher’s aid.  We handed out blue and red sticky notes to all of the attendees and so when they had a question or got stuck, they could simply place a red sticky on the front of their laptop and we could see the “flag” and come to help.  This way the attendees didn’t need to raise a hand at all, creating a situation where everyone had a chance to get questions answered or help when they needed without a tired arm or feeling as if they were disrupting the self-paced classroom.</p>

<p>The Jupyter notebooks were new to about 90% of the attendees so an <em>in promptu</em> tutorial was given at the beginning to familiarize the attendees with the learning framework.  An introduction to Python-flavored Jupyter notebooks is provided on my GitHub on  <a href="https://github.com/michhar/python-jupyter-notebooks/blob/master/general/NotebookAnatomy.ipynb">this notebook</a>.  If you are looking for an R-flavored one, I have one <a href="https://github.com/michhar/useR2016-tutorial-jupyter/blob/master/notebook_basics/02.General%20anatomy.ipynb">here</a>.  Please enjoy and know there are tons of resources on the net regarding Jupyter notebooks and learning Python or R (Jupyter actually is a portmanteau of Julia, Python and R).  I plan to write a short blog on using them and multi-tenant Jupyter notebook frameworks for teaching in another blog post.  Many posts have been promised so I better end this one.</p>
